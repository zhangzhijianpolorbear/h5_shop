{"version":3,"sources":["webpack:///src/components/buybtn.vue","webpack:///./src/components/buybtn.vue?50ea","webpack:///./src/components/buybtn.vue","webpack:///./src/components/userinfo.vue?74b8","webpack:///./src/components/userinfo.vue","webpack:///src/components/userinfo.vue","webpack:///src/pages/description/description.vue","webpack:///./src/pages/description/description.vue?e2bc","webpack:///./src/pages/description/description.vue"],"names":["components_buybtn","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","$event","toDescription","productid","_v","staticRenderFns","Component","__webpack_require__","normalizeComponent","props","data","methods","e","$router","push","path","query","ssrContext","__webpack_exports__","components_userinfo","attrs","placeholder","type","model","value","callback","$$v","username","expression","tel","rows","introduction","src_components_userinfo","toastError","created","getList","description","components","userinfoX","buybtnX","buybtn","goodsData","markingPrice","selectAttr","productId","userInfo","selectData","num","attr","unique","getInfo","_this","$route","axios_default","a","get","parseInt","then","response","catch","error","console","log","$toast","positon","toPayment","_this2","length","productAttr","message","test","cartNum","uniqueId","payType","name","phone","address","params","status","wxpay","order_id","ProductName","price","res","window","location","href","mweb_url","alert","select","item","key","setPrice","i","len","substring","pirce","productValue","cost","image","minus","add","description_description","src","alt","_s","staticStyle","color","_l","index","attr_name","value_key","class","_e","_m","$set","description_Component","description_normalizeComponent"],"mappings":"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","file":"static/js/1.c67954a4b35472bfe008.js","sourcesContent":["<template>\r\n    <div class=\"btn\">\r\n        <button @click=\"toDescription(productid)\">立即购买</button>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: [\"productid\"],\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    toDescription(e) {\r\n      this.$router.push({\r\n        path: \"description\",\r\n        query: {\r\n          productid: this.productid\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.btn {\r\n  width: 100%;\r\n  height: 3rem;\r\n//   border: 1px red solid;\r\n  margin-bottom: 3rem;\r\n  button {\r\n    position: fixed;\r\n    bottom: 0;\r\n    background-color: #df8121;\r\n    border-radius: .8rem;\r\n    height: 3rem;\r\n    color: white;\r\n    margin: 0.6rem 1rem 1.1rem 1.6rem;\r\n    width: 80%;\r\n    text-align: center;\r\n    // text-decoration: none;\r\n    // display: inline-block;\r\n    font-size: 16px;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/buybtn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn\"},[_c('button',{on:{\"click\":function($event){return _vm.toDescription(_vm.productid)}}},[_vm._v(\"立即购买\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3d25d8b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/buybtn.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d25d8b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./buybtn.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./buybtn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./buybtn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d25d8b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./buybtn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3d25d8b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/buybtn.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\"},[_c('mt-field',{attrs:{\"placeholder\":\"收货人姓名\",\"type\":\"input\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"手机号码\",\"type\":\"number\"},model:{value:(_vm.tel),callback:function ($$v) {_vm.tel=$$v},expression:\"tel\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"placeholder\":\"收货地址\",\"type\":\"textarea\",\"rows\":\"4\"},model:{value:(_vm.introduction),callback:function ($$v) {_vm.introduction=$$v},expression:\"introduction\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b92bc5c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/userinfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5b92bc5c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userinfo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./userinfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./userinfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b92bc5c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./userinfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5b92bc5c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/userinfo.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"field\">\r\n        <mt-field placeholder=\"收货人姓名\" type=\"input\" v-model=\"username\"></mt-field>\r\n         <!-- :attr=\"{ oninput: 'if(value.length>11)value=value.slice(0,11)' }\" -->\r\n        <mt-field placeholder=\"手机号码\" type=\"number\" v-model=\"tel\"></mt-field>\r\n        <mt-field placeholder=\"收货地址\" type=\"textarea\" rows=\"4\" v-model=\"introduction\"></mt-field>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { Toast } from \"mint-ui\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      tel: \"\",\r\n      introduction: \"\",\r\n      toastError: null //toast提示框\r\n    };\r\n  },\r\n  created() {\r\n    this.getList();\r\n  },\r\n  methods: {\r\n    // getList() {\r\n    //   this.show();\r\n    //     setTimeout(() => {\r\n    //       this.toastError.close();\r\n    //     }, 2000);\r\n    // },\r\n    // show() {\r\n    //   this.toastError = Toast({\r\n    //     message: \"亲亲有选项为空白哦~\",\r\n    //     positon: \"middle\",\r\n    //     duration: -1,\r\n    //     iconClass: \"icon-cuowutishitubiao\",\r\n    //     className: \"\"\r\n    //   });\r\n    // },\r\n    \r\n\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n// .field /deep/ {\r\n//   margin-bottom: 4.3rem;\r\n// }\r\n// .field /deep/ input {\r\n//   margin-top: -0.6rem;\r\n//   font-size: 14px;\r\n// //   border-bottom: 1px solid rgba(235, 235, 235, 1);\r\n// }\r\n\r\n// .field /deep/ textarea {\r\n//   margin-top: -0.1rem;\r\n//   height: 4.5rem;\r\n//   font-size: 14px;\r\n// //   border-bottom: 1px solid rgba(235, 235, 235, 1);\r\n//   overflow: hidden;\r\n// }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/userinfo.vue","<template>\r\n    <div class=\"goods-description\">\r\n        <div class=\"goods\">\r\n            <img :src=\"goodsData.image\" alt=\"\">\r\n            <div class=\"description\">\r\n                <span>价格：￥{{goodsData.pirce}} <del style=\"color:#aaa;\">￥{{markingPrice}}</del></span>\r\n                <span>已选：{{selectData.attr}}</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"color-size\">\r\n            <div class=\"color\" v-if=\"goodsData.productAttr\" v-for=\"(item,index) in goodsData.productAttr\" :key=\"index\">\r\n                <span>{{item.attr_name}}</span>\r\n                <ul>\r\n                    <li @click=\"select(attr,index)\" :class=\"selectAttr[index]==attr?'activa':''\" v-for=\"(attr,value_key) in item.attr_values\" :key=\"value_key\">{{attr}}</li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"counts\">\r\n                <p>\r\n                    <span>数量</span>\r\n                </p>\r\n                <div class=\"count-data\">\r\n                    <span class=\"minus\" @click=\"minus\">-</span>\r\n                    <span class=\"number\">{{selectData.num}}</span>\r\n                    <span class=\"add\" @click=\"add\">+</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 手机号等信息 -->\r\n      <div class=\"field\">\r\n        <mt-field class=\"mint-field-core\" placeholder=\"收货人姓名\" v-model=\"userInfo.username\"></mt-field>\r\n        <mt-field class=\"mint-field-core\" placeholder=\"手机号码\" type=\"number\" v-model=\"userInfo.tel\"></mt-field>\r\n        <mt-field class=\"mint-field-core\" placeholder=\"收货地址\" type=\"textarea\" rows=\"4\" v-model=\"userInfo.introduction\"></mt-field>\r\n    </div>\r\n        <!-- 按钮 -->\r\n        <div @click=\"toPayment\">\r\n        <buybtn-x></buybtn-x>\r\n       </div>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport userinfo from \"../../components/userinfo\";\r\nimport buybtn from \"../../components/buybtn\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  components: {\r\n    userinfoX: userinfo,\r\n    buybtnX: buybtn\r\n  },\r\n  data() {\r\n    return {\r\n      goodsData: \"\", //数据源\r\n      markingPrice: 0, //划线价\r\n      selectAttr: [], //选择的规格\r\n      productId: \"\", //商品id\r\n\r\n      userInfo: {\r\n        username: \"\",\r\n        tel: \"\",\r\n        introduction: \"\"\r\n      },\r\n      selectData: {\r\n        num: 1,\r\n        attr: \"\",\r\n        // price: \"\",\r\n        unique: \"\"\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getInfo();\r\n  },\r\n  methods: {\r\n    getInfo() {\r\n      let productId = this.$route.query.productid;\r\n      this.productId = productId;\r\n      axios\r\n        .get(\r\n          \"http://app.taijidjk69.com/api/h5/good/ProductAttrDetail?productId=\" +\r\n            parseInt(productId)\r\n        )\r\n        .then(response => {\r\n          this.goodsData = response.data.data;\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          this.$toast({\r\n            positon: \"middle\"\r\n          });\r\n        });\r\n    },\r\n\r\n    toPayment() {\r\n      console.log(this.goodsData);\r\n      if (\r\n        this.userInfo.username.length == 0 ||\r\n        this.userInfo.introduction.length == 0 ||\r\n        this.selectAttr.length !== this.goodsData.productAttr.length\r\n      ) {\r\n        this.$toast({\r\n          message: \"亲亲还有未选择的哦~\",\r\n          positon: \"middle\"\r\n        });\r\n        return false;\r\n      }\r\n      if (!/^1[34578]\\d{9}$/.test(this.userInfo.tel)) {\r\n        this.$toast({\r\n          message: \"亲亲手机号码不正确哦~\",\r\n          positon: \"middle\"\r\n        });\r\n        return false;\r\n      }\r\n      // let unique = this.goodsData.productValue.unique;\r\n      // this.unique = unique;\r\n      // this;\r\n      let query = {\r\n        cartNum: this.selectData.num,\r\n        productId: this.productId,\r\n        // this.selectData.unique\r\n        // \"3df5df21\"\r\n        // uniqueId: \"8d5d4fa1\",\r\n        uniqueId: this.goodsData.unique,\r\n        payType: \"weixin\",\r\n        name: this.userInfo.username,\r\n        phone: this.userInfo.tel,\r\n        address: this.userInfo.introduction\r\n      };\r\n      console.log(this.productId);\r\n      axios\r\n        .get(\"http://app.taijidjk69.com/api/h5/good/pay\", { params: query })\r\n        .then(response => {\r\n          if (response.data.status === 1) {\r\n            let wxpay = {\r\n              order_id: response.data.data.order_id,\r\n              ProductName: response.data.data.ProductName,\r\n              price: response.data.data.price\r\n            };\r\n            axios\r\n              .get(\"http://app.taijidjk69.com/api/h5/good/wxpayurl\", {\r\n                params: wxpay\r\n              })\r\n              .then(res => {\r\n                window.location.href = res.data.mweb_url;\r\n                console.log(\"获取到支付url\");\r\n                // console.log(res);\r\n              })\r\n              .catch(error => {\r\n                console.log(error);\r\n                this.$toast({\r\n                  message: \"哎呀~开了点小差\",\r\n                  positon: \"middle\"\r\n                });\r\n              });\r\n          }\r\n          // console.log(response);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          alert(\"好嗨呀......\");\r\n        });\r\n    },\r\n\r\n    select(item, key) {\r\n      console.log(item);\r\n      // key是循环的次数，item是选择规格的名称\r\n      this.selectAttr[key] = item;\r\n      // console.log(this.selectAttr)  this.selectAttr是为了记录客户选择哪些规格   每次点击规格的时候   把规格名称压入这个变量里面\r\n      // 如果循环两次   就可以得到this.selectAttr[0] = 白色， this.selectAttr[1] = 3XL的规格值了\r\n\r\n      // 如何确定客户已经选择完了所有规格    只要this.selectAttr长度等于渲染出来的规格数   那就是已经选择完了  this.selectAttr.length == this.goodsData.productAttr.length\r\n      if (this.selectAttr.length == this.goodsData.productAttr.length) {\r\n        this.setPrice(); //设置价格\r\n      } else {\r\n        this.getInfo();\r\n      }\r\n    },\r\n    setPrice() {\r\n      //规格选择完毕设置价格\r\n      let key = \"\";\r\n      //拼接key值\r\n      for (var i = 0, len = this.selectAttr.length; i < len; i++) {\r\n        key += this.selectAttr[i] + \",\";\r\n      }\r\n      key = key.substring(0, key.length - 1);\r\n      this.selectData.attr = key;\r\n      console.log(key);\r\n      this.goodsData.pirce = this.goodsData.productValue[key].price;\r\n      this.markingPrice = this.goodsData.productValue[key].cost;\r\n      this.goodsData.image = this.goodsData.productValue[key].image;\r\n      this.goodsData.unique = this.goodsData.productValue[key].unique;\r\n    },\r\n    minus() {\r\n      if (this.selectData.num > 1) {\r\n        this.selectData.num--;\r\n      }\r\n    },\r\n    add() {\r\n      this.selectData.num++;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.goods-description {\r\n  margin-left: 0.2rem;\r\n  padding: 0;\r\n}\r\n.goods {\r\n  display: flex;\r\n  margin-bottom: 1.4rem;\r\n  img {\r\n    width: 7rem;\r\n    height: 7rem;\r\n    border: 4px solid #ebebeb;\r\n  }\r\n  .description {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    margin-left: 0.7rem;\r\n  }\r\n  .description span:first-child {\r\n    color: rgba(255, 130, 39, 1);\r\n    line-height: 1.3rem;\r\n  }\r\n  .description span:last-child {\r\n    color: #4c4c4c;\r\n  }\r\n}\r\n.color-size {\r\n  span {\r\n    font-size: 13px;\r\n    color: #4c4c4c;\r\n    // margin-top: 0.3rem;\r\n    // border:#ff8227 1px solid;\r\n  }\r\n  .color {\r\n    display: flex;\r\n    flex-flow: wrap;\r\n    height: 6rem;\r\n    margin-bottom: 0.5rem;\r\n    // border: #ff8227 1px solid;\r\n    ul {\r\n      margin-top: 0.4rem;\r\n      width: 95%;\r\n      padding: 0;\r\n      display: inline-block;\r\n      height: 5rem;\r\n      // border: red 1px solid;\r\n      li {\r\n        list-style-type: none;\r\n        border: 1px solid #aaa;\r\n        border-radius: 0.22rem;\r\n        color: #aaa;\r\n        padding: 0.28rem 0.45rem;\r\n        margin: 0.1rem 0.5rem 0.2rem 0.1rem;\r\n        font-size: 12px;\r\n        display: inline-block;\r\n        // border: #000 1px solid;\r\n      }\r\n      .activa {\r\n        color: #ff8227;\r\n        border: 1px solid #ff8227;\r\n      }\r\n    }\r\n  }\r\n  //   .taglia span {\r\n  //   }\r\n  .counts {\r\n    margin: -2.6rem 0 0.3rem 0;\r\n    border-bottom: 6px solid #ebebeb;\r\n    .count-data {\r\n      display: flex;\r\n      margin-bottom: 0.5rem;\r\n      margin-top: -0.5rem;\r\n      .minus,\r\n      .add,\r\n      .number {\r\n        border: 2px solid rgba(170, 170, 170, 1);\r\n        text-align: center;\r\n        border-radius: 0.12rem;\r\n        color: #aaa;\r\n        padding: 0.28rem 0.7rem;\r\n        margin-top: -0.2rem;\r\n      }\r\n      .minus {\r\n        border: 2px solid rgba(210, 210, 210, 1);\r\n      }\r\n      .number {\r\n        width: 1.5rem;\r\n      }\r\n    }\r\n  }\r\n  .mint-field-core {\r\n    font-size: 13px;\r\n    border-bottom:  1px solid rgba(235, 235, 235, 1);\r\n     font-family:SourceHanSansCN-Regular;\r\n  }\r\n  // .field /deep/ {\r\n  //   margin-bottom: 2.3rem;\r\n  //   color: rgba(182, 182, 182, 1);\r\n  //   font-size: 14px;\r\n  //   font-family:SourceHanSansCN-Regular;\r\n  // }\r\n  // .field /deep/ input {\r\n  //   margin-top: -0.6rem;\r\n  //   font-size: 14px;\r\n  //   font-family:SourceHanSansCN-Regular;\r\n  //     border-bottom: 1px solid rgba(235, 235, 235, 1);\r\n  // }\r\n\r\n  // .field /deep/ textarea {\r\n  //   margin-top: -0.1rem;\r\n  //   height: 3.1rem;\r\n  //   font-size: 14px;\r\n  //   font-family:SourceHanSansCN-Regular;\r\n  //     border-bottom: 1px solid rgba(235, 235, 235, 1);\r\n  //   overflow: hidden;\r\n  // }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/description/description.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods-description\"},[_c('div',{staticClass:\"goods\"},[_c('img',{attrs:{\"src\":_vm.goodsData.image,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"description\"},[_c('span',[_vm._v(\"价格：￥\"+_vm._s(_vm.goodsData.pirce)+\" \"),_c('del',{staticStyle:{\"color\":\"#aaa\"}},[_vm._v(\"￥\"+_vm._s(_vm.markingPrice))])]),_vm._v(\" \"),_c('span',[_vm._v(\"已选：\"+_vm._s(_vm.selectData.attr))])])]),_vm._v(\" \"),_c('div',{staticClass:\"color-size\"},[_vm._l((_vm.goodsData.productAttr),function(item,index){return (_vm.goodsData.productAttr)?_c('div',{key:index,staticClass:\"color\"},[_c('span',[_vm._v(_vm._s(item.attr_name))]),_vm._v(\" \"),_c('ul',_vm._l((item.attr_values),function(attr,value_key){return _c('li',{key:value_key,class:_vm.selectAttr[index]==attr?'activa':'',on:{\"click\":function($event){return _vm.select(attr,index)}}},[_vm._v(_vm._s(attr))])}),0)]):_vm._e()}),_vm._v(\" \"),_c('div',{staticClass:\"counts\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"count-data\"},[_c('span',{staticClass:\"minus\",on:{\"click\":_vm.minus}},[_vm._v(\"-\")]),_vm._v(\" \"),_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.selectData.num))]),_vm._v(\" \"),_c('span',{staticClass:\"add\",on:{\"click\":_vm.add}},[_vm._v(\"+\")])])])],2),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('mt-field',{staticClass:\"mint-field-core\",attrs:{\"placeholder\":\"收货人姓名\"},model:{value:(_vm.userInfo.username),callback:function ($$v) {_vm.$set(_vm.userInfo, \"username\", $$v)},expression:\"userInfo.username\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"mint-field-core\",attrs:{\"placeholder\":\"手机号码\",\"type\":\"number\"},model:{value:(_vm.userInfo.tel),callback:function ($$v) {_vm.$set(_vm.userInfo, \"tel\", $$v)},expression:\"userInfo.tel\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"mint-field-core\",attrs:{\"placeholder\":\"收货地址\",\"type\":\"textarea\",\"rows\":\"4\"},model:{value:(_vm.userInfo.introduction),callback:function ($$v) {_vm.$set(_vm.userInfo, \"introduction\", $$v)},expression:\"userInfo.introduction\"}})],1),_vm._v(\" \"),_c('div',{on:{\"click\":_vm.toPayment}},[_c('buybtn-x')],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('span',[_vm._v(\"数量\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47a2e01b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/description/description.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47a2e01b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./description.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./description.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./description.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47a2e01b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./description.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-47a2e01b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/description/description.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}