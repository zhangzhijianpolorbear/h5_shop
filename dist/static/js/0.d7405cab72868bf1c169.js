webpackJsonp([0],{"3uZ1":function(t,o,a){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var e=a("mtWM"),n=a.n(e),i=a("7+uW"),r=a("Au9i");i.default.use(r.InfiniteScroll),i.default.component(r.Spinner.name,r.Spinner);var s={components:{"mt-spinner":r.Spinner},data:function(){return{goods:[],loading:!1,noMore:!1,endTime:"",page:{current_page:1,per_page:10,last_page:"",total:"",data:{id:""}},sixToken:this.GLOBAL.hSixURL}},created:function(){this.initData()},mounted:function(){},methods:{initData:function(t){var o=this;this.loading=!0,n.a.get("http://app.taijidjk69.com/api/h5/good/goodhot",{params:{page:this.page.current_page}}).then(function(a){o.goods="loadMore"===t?o.goods.concat(a.data.data.data):a.data.data.data,console.log(o.goods.concat(a.data.data.data)),o.page.total=a.data.data.total,console.log("商品总数",o.page.total),o.page.last_page=Math.ceil(o.page.total/o.page.per_page),console.log("总分页数",Math.ceil(o.page.total/o.page.per_page)),o.loading=!1}).catch(function(t){console.log(t)})},loadMore:function(){var t=this;if(this.page.current_page+=1,this.loading=!0,!(this.page.current_page<=this.page.last_page))return this.noMore=!0,this.loading=!1,!1;setTimeout(function(){t.initData("loadMore")},200)},gotoGoodsDetail:function(t){}}},l={render:function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"errorlayout"},[t._m(0),t._v(" "),a("div",{staticClass:"rectoyou"},[t._m(1),t._v(" "),a("div",{staticClass:"item-list"},[a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-immediate-check":"true","infinite-scroll-distance":"10"}},t._l(t.goods,function(o,e){return a("li",{key:e},[a("a",{staticClass:"item-box",attrs:{href:t.sixToken+"/?id="+o.id}},[a("div",{staticClass:"item-img"},[a("img",{attrs:{src:o.image,alt:""}})]),t._v(" "),a("h2",{staticClass:"item-name"},[t._v(t._s(o.store_name))]),t._v(" "),a("p",{staticClass:"item-price"},[a("span",{staticClass:"price-new"},[a("i",[t._v("¥")]),a("span",[t._v(t._s(o.price))])])])])])}),0),t._v(" "),t.loading?a("div",{staticClass:"loading-box"},[a("mt-spinner",{staticClass:"loading-more",attrs:{type:"fading-circle",color:"#ff8227"}})],1):t._e(),t._v(" "),t.noMore?a("div",{staticClass:"no-more"},[t._v("亲，已经到底了哦！")]):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"errormsg"},[o("p",{staticClass:"error-img"},[o("img",{attrs:{src:a("3xxH"),alt:""}})]),this._v(" "),o("p",{staticClass:"error-tips"},[this._v("商品不存在")])])},function(){var t=this.$createElement,o=this._self._c||t;return o("h2",{staticClass:"ctitle"},[o("span",[this._v("为你推荐")])])}]};var c={components:{nodataX:a("VU/8")(s,l,!1,function(t){a("hOAU")},"data-v-dc12d53a",null).exports,buybtnX:a("IhR3").a},data:function(){return{goodInfo:"",productId:-1,error:!1,errorBtn:!0,btnColor:"",btnToColor:""}},created:function(){var t=this,o=this.getUrlParam("id");console.log(o),n.a.get("http://app.taijidjk69.com/api/h5/good/details?id="+o).then(function(o){console.log(o.data.data),t.goodInfo=o.data.data.description,t.productId=o.data.data.id;var a=o.data.data.subcolor.split(",");a.length>=2?(t.btnColor=a[0],t.btnToColor=a[1]):t.btnColor=a[0],document.title=o.data.data.store_name?o.data.data.store_name:t.$route.meta.title}).catch(function(o){console.log(o),t.error=!0,t.errorBtn=!1,document.title="商品不存在 - "+t.$route.meta.title})},methods:{getUrlParam:function(t){var o=new RegExp("(^|&)"+t+"=([^&]*)(&|$)");console.log(o);var a=window.location.search.substr(1).match(o);return console.log(a),null!=a?unescape(a[2]):null}}},d={render:function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"goods-detail"},[t.error?a("nodata-x",{attrs:{productid:t.productId}}):t._e(),t._v(" "),a("div",{staticClass:"cont",domProps:{innerHTML:t._s(t.goodInfo)}}),t._v(" "),t.errorBtn?a("buybtn-x",{attrs:{productid:t.productId,btnColor:t.btnColor,btnToColor:t.btnToColor}}):t._e()],1)},staticRenderFns:[]};var u=a("VU/8")(c,d,!1,function(t){a("IuW1"),a("lwkL")},"data-v-78dd8fde",null);o.default=u.exports},"3xxH":function(t,o,a){t.exports=a.p+"static/img/error.0d1df21.png"},"4O8T":function(t,o){},IhR3:function(t,o,a){"use strict";var e={render:function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"btn"},[a("button",{style:t.btnColor?t.btnToColor?{background:"linear-gradient(to right,"+t.btnColor+","+t.btnToColor+")"}:{background:t.btnColor}:"",on:{click:function(o){return t.toDescription(t.productid)}}},[t._v("立即购买")])])},staticRenderFns:[]};var n=a("VU/8")({props:["productid","btnColor","btnToColor"],data:function(){return{}},methods:{toDescription:function(t){this.$router.push({path:"description",query:{productid:this.productid,btnColor:this.btnColor,btnToColor:this.btnToColor}})}}},e,!1,function(t){a("4O8T")},"data-v-35a6545b",null);o.a=n.exports},IuW1:function(t,o){},hOAU:function(t,o){},lwkL:function(t,o){}});
//# sourceMappingURL=0.d7405cab72868bf1c169.js.map